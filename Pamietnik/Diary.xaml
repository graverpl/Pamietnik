<Page
    x:Class="Pamietnik.Diary"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Pamietnik"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d" Loaded="Page_Loaded" FontFamily="Segoe UI" FontSize="16" Foreground="White">

    <Grid>
        <Grid.Background>
            <ImageBrush ImageSource="Images/plain_bg.png" Stretch="Fill"/>
        </Grid.Background>

        <!-- Określenie kolumn -->

        <Grid.ColumnDefinitions>
            <ColumnDefinition MinWidth="200"/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition MinWidth="300"/>
        </Grid.ColumnDefinitions>

        <!-- Określenie wierszy -->

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Belka z menu -->

        <CommandBar Grid.Column="0" Grid.Row="0" Grid.ColumnSpan="3" OverflowButtonVisibility="Collapsed">
            <AppBarButton x:Name="SaveEntryBtn" Icon="Save" ToolTipService.ToolTip="Zapisz/Edytuj" Click="SaveEntryBtn_Click"/>
            <AppBarButton x:Name="DeleteEntryBtn" Icon="Delete" ToolTipService.ToolTip="Usuń wpis" Click="DeleteEntryBtn_Click"/>
            <AppBarButton x:Name="LogoutBtn" Icon="OtherUser" ToolTipService.ToolTip="Wyloguj się" Click="LogoutBtn_Click"/>
        </CommandBar>

        <!-- Sekcja powitalna -->

        <StackPanel Grid.Column="0" Grid.Row="1" >
            <TextBlock x:Name="WelcomeTextBlock" HorizontalAlignment="Left" Margin="20,25,0,0" FontSize="24"/>
            <TextBlock x:Name="DateTextBlock" HorizontalAlignment="Left" Margin="20,20,0,0"/>
            <TextBlock x:Name="CountdownTextBlock" HorizontalAlignment="Left" Margin="20,0,0,0"/>
            <TextBlock HorizontalAlignment="Left" Margin="20,20,0,0">
                <Span TextDecorations="Underline"> Dowcip na dziś:</Span>
            </TextBlock>
            <TextBlock x:Name="JokeTextBlock" TextWrapping="Wrap" HorizontalAlignment="Left" Margin="20,20,0,0" FontStyle="Italic"/>
            
        </StackPanel>

        <!-- Widok kalendarza -->

        <CalendarView x:Name="MainCalendar" Grid.Column="1" Grid.Row="1" HorizontalAlignment="Left" VerticalAlignment="Stretch" Margin="0,10,0,0" Height="291" Background="#FFFFFF" RequestedTheme="Dark" Opacity="0.5" SelectedDatesChanged="MainCalendar_SelectedDatesChanged" Loaded="MainCalendar_Loaded"/>

        <!-- Lista wszystkich wpisów -->

        <TextBlock Grid.Column="2" Grid.Row="1" HorizontalAlignment="Left" Text="Ostatnio przeglądane:"  VerticalAlignment="Top" Margin="10,25,0,0"/>
        <ListView x:Name="entriesListView" Grid.Column="2" Grid.Row="1" HorizontalAlignment="Left" VerticalAlignment="Top" Width="300" Margin="0,65,0,0"/>
        <Pivot x:Name="mainPivot" Grid.Column="0" Grid.Row="2" Grid.ColumnSpan="3" GotFocus="mainPivot_GotFocus">
            <PivotItem Loaded="PivotItem_Loaded">
                <!-- Treść wpisu -->
                <RichEditBox x:Name="mainBox" Grid.Column="0" Grid.Row="2" Grid.ColumnSpan="3" HorizontalAlignment="Stretch"  Margin="0,0,0,10" VerticalAlignment="Stretch" PlaceholderText="Brak wpisów tego dnia..."/>
            </PivotItem>
        </Pivot>
        
        <!-- Potwierdzenie operacji -->

        <Popup x:Name="ConfirmationPopup" Grid.Column="1" Grid.ColumnSpan="3" VerticalAlignment="Center" Grid.RowSpan="3" Grid.Row="1" Margin="-205,140,0,0" IsOpen="False" >
            <Grid Padding="60" Width="680" Height="Auto" Background="IndianRed">
                <StackPanel VerticalAlignment="Center">
                    <TextBlock x:Name="ConfirmationTextBlock1" HorizontalAlignment="Center"><Bold>Czy na pewno chcesz usunąć ten wpis?</Bold></TextBlock>
                    <TextBlock x:Name="ConfirmationTextBlock2" HorizontalAlignment="Center" Text="Ta operacja jest nieodwracalna..."/>
                    <StackPanel HorizontalAlignment="Center" Orientation="Horizontal">
                        <Button x:Name="NoBtn" Width="100" Content="NIE" Margin="0,20,20,0" Click="NoBtn_Click"/>
                        <Button x:Name="YesBtn" Width="100" Content="TAK" Margin="0,20,0,0" Click="YesBtn_Click"/>
                    </StackPanel>
                </StackPanel>
            </Grid>
        </Popup>
        
    </Grid>
</Page>
